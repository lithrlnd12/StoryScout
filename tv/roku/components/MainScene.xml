<?xml version="1.0" encoding="utf-8" ?>
<component name="MainScene" extends="Scene">
    <script type="text/brightscript" uri="pkg:/components/MainScene.brs" />

    <interface>
        <field id="contentData" type="array" />
    </interface>

    <children>
        <!-- Background -->
        <Rectangle id="bg" width="1920" height="1080" color="#0F121A" />

        <!-- Video Player -->
        <Video
            id="videoPlayer"
            translation="[0, 0]"
            width="1920"
            height="1080"
            loop="true"
            visible="false" />

        <!-- Genre Filter Row (Top) - Title Safe Zone Compliant -->
        <Rectangle
            id="genreRowBg"
            translation="[0, 106]"
            width="1920"
            height="70"
            color="#0F121A"
            opacity="0.95"
            visible="true" />

        <!-- Genre Pills Container - Title Safe (192px from left) -->
        <LayoutGroup
            id="genreRow"
            translation="[200, 118]"
            layoutDirection="horiz"
            itemSpacings="[20]"
            visible="true" />

        <!-- Bottom Info Card - Title Safe Zone Compliant -->
        <Group id="bottomCard" translation="[200, 850]">
            <!-- Pink Accent Line -->
            <Rectangle
                id="accentLine"
                translation="[0, 0]"
                width="6"
                height="180"
                color="#E91E63" />

            <!-- Card Background - Solid for readability -->
            <Rectangle
                id="overlayBg"
                translation="[0, 0]"
                width="700"
                height="180"
                color="#0F121A"
                opacity="0.95" />

            <!-- Genre Chip (Small Cyan Badge) -->
            <Group id="genreChip" translation="[20, 15]">
                <Rectangle
                    width="130"
                    height="36"
                    color="#00E5FF"
                    opacity="0.2" />
                <Label
                    id="genreLabel"
                    translation="[0, 8]"
                    width="130"
                    height="36"
                    horizAlign="center"
                    font="font:MediumSystemFont"
                    color="#00E5FF" />
            </Group>

            <!-- Title Label (Large, Bold, 10-foot readable) -->
            <Label
                id="titleLabel"
                translation="[20, 60]"
                width="660"
                height="50"
                font="font:LargeBoldSystemFont"
                color="#FFFFFF"
                wrap="false" />

            <!-- Synopsis Label (Compact, 2 lines max) -->
            <Label
                id="synopsisLabel"
                translation="[20, 120]"
                width="660"
                height="50"
                font="font:MediumSystemFont"
                color="#8B92A8"
                wrap="true"
                maxLines="2" />
        </Group>

        <!-- Navigation Hint (Bottom Right, Minimal) -->
        <Label
            id="navHint"
            text="↑↓ Browse  •  ←→ Genres  •  * = Watch Party  •  OK = Watch"
            translation="[1380, 1030]"
            width="460"
            height="30"
            horizAlign="right"
            font="font:SmallSystemFont"
            color="#8B92A8"
            opacity="0.7" />

        <!-- Loading Status -->
        <Label
            id="statusLabel"
            text="Loading..."
            translation="[600, 500]"
            width="720"
            height="80"
            horizAlign="center"
            font="font:LargeBoldSystemFont"
            color="#FFFFFF" />

        <!-- Watch Party Loading Overlay -->
        <Group id="watchPartyLoading" translation="[0, 0]" visible="false">
            <!-- Dark Overlay -->
            <Rectangle
                width="1920"
                height="1080"
                color="#000000"
                opacity="0.9" />

            <!-- Loading Card -->
            <Group translation="[710, 440]">
                <Rectangle
                    width="500"
                    height="200"
                    color="#1F2937" />
                <Label
                    id="loadingText"
                    text="Creating Watch Party..."
                    translation="[0, 70]"
                    width="500"
                    height="60"
                    horizAlign="center"
                    font="font:LargeBoldSystemFont"
                    color="#FFFFFF" />
            </Group>
        </Group>

        <!-- Watch Party Menu Overlay -->
        <Group id="watchPartyOverlay" translation="[0, 0]" visible="false">
            <!-- Dark Overlay Background -->
            <Rectangle
                width="1920"
                height="1080"
                color="#000000"
                opacity="0.8" />

            <!-- Menu Card -->
            <Group id="watchPartyMenu" translation="[660, 340]">
                <!-- Menu Background -->
                <Rectangle
                    width="600"
                    height="400"
                    color="#1F2937" />

                <!-- Title -->
                <Label
                    id="watchPartyTitle"
                    text="Watch Party"
                    translation="[0, 30]"
                    width="600"
                    height="60"
                    horizAlign="center"
                    font="font:LargeBoldSystemFont"
                    color="#FFFFFF" />

                <!-- Menu Options -->
                <Group id="menuOptions" translation="[100, 120]">
                    <!-- Create Party Option -->
                    <Group id="createOption" translation="[0, 0]">
                        <Rectangle
                            id="createBg"
                            width="400"
                            height="70"
                            color="#E91E63" />
                        <Label
                            text="🎬 Create Watch Party"
                            translation="[0, 12]"
                            width="400"
                            height="34"
                            horizAlign="center"
                            font="font:MediumBoldSystemFont"
                            color="#FFFFFF" />
                        <Label
                            text="Start watching together"
                            translation="[0, 46]"
                            width="400"
                            height="24"
                            horizAlign="center"
                            font="font:SmallSystemFont"
                            color="#D1D5DB" />
                    </Group>

                    <!-- Join Party Option -->
                    <Group id="joinOption" translation="[0, 90]">
                        <Rectangle
                            id="joinBg"
                            width="400"
                            height="70"
                            color="#374151" />
                        <Label
                            text="🔗 Join Watch Party"
                            translation="[0, 12]"
                            width="400"
                            height="34"
                            horizAlign="center"
                            font="font:MediumBoldSystemFont"
                            color="#D1D5DB" />
                        <Label
                            text="Feature coming soon"
                            translation="[0, 46]"
                            width="400"
                            height="24"
                            horizAlign="center"
                            font="font:SmallSystemFont"
                            color="#8B92A8" />
                    </Group>

                    <!-- Cancel Option -->
                    <Group id="cancelOption" translation="[0, 180]">
                        <Rectangle
                            id="cancelBg"
                            width="400"
                            height="70"
                            color="#374151" />
                        <Label
                            text="Cancel"
                            translation="[0, 20]"
                            width="400"
                            height="70"
                            horizAlign="center"
                            font="font:MediumBoldSystemFont"
                            color="#8B92A8" />
                    </Group>
                </Group>

                <!-- Helper Text -->
                <Label
                    text="↑↓ to navigate  •  OK to select"
                    translation="[0, 350]"
                    width="600"
                    height="30"
                    horizAlign="center"
                    font="font:SmallSystemFont"
                    color="#8B92A8" />
            </Group>
        </Group>

        <!-- Watch Party Lobby/Details Modal -->
        <Group id="watchPartyLobby" translation="[0, 0]" visible="false">
            <!-- Dark Overlay (renders first/behind) -->
            <Rectangle
                width="1920"
                height="1080"
                color="#000000"
                opacity="0.85" />

            <!-- Lobby Card (renders on top of overlay) -->
            <Group id="lobbyCard" translation="[560, 240]">
                <!-- Card Background -->
                <Rectangle
                    width="800"
                    height="600"
                    color="#1F2937" />

                <!-- Title -->
                <Label
                    id="lobbyTitle"
                    text="🎬 Watch Party"
                    translation="[0, 30]"
                    width="800"
                    height="50"
                    horizAlign="center"
                    font="font:LargeBoldSystemFont"
                    color="#FFFFFF" />

                <!-- Content Title -->
                <Label
                    id="lobbyContentTitle"
                    text="Movie Title"
                    translation="[0, 90]"
                    width="800"
                    height="40"
                    horizAlign="center"
                    font="font:MediumSystemFont"
                    color="#00E5FF" />

                <!-- Join Code Section -->
                <Label
                    text="SHARE THIS CODE:"
                    translation="[150, 150]"
                    width="500"
                    height="30"
                    horizAlign="center"
                    font="font:MediumBoldSystemFont"
                    color="#8B92A8" />

                <!-- Join Code - LARGE, prominent, no background box -->
                <Label
                    id="lobbyCode"
                    text=""
                    translation="[150, 190]"
                    width="500"
                    height="80"
                    horizAlign="center"
                    color="0xFFFFFFFF" />

                <!-- Participants Section -->
                <Group translation="[50, 280]">
                    <Label
                        id="lobbyParticipantsTitle"
                        text="Watching (1/10)"
                        translation="[0, 0]"
                        width="700"
                        height="30"
                        font="font:MediumBoldSystemFont"
                        color="#FFFFFF" />

                    <!-- Participant List (will be populated dynamically) -->
                    <Label
                        id="lobbyParticipants"
                        text="• Roku User (Host)"
                        translation="[0, 40]"
                        width="700"
                        height="120"
                        font="font:MediumSystemFont"
                        color="#D1D5DB"
                        wrap="true" />
                </Group>

                <!-- Status -->
                <Group translation="[50, 450]">
                    <Label
                        id="lobbyStatus"
                        text="⏱️ In Lobby"
                        translation="[0, 0]"
                        width="700"
                        height="40"
                        horizAlign="center"
                        font="font:MediumBoldSystemFont"
                        color="#00E5FF" />
                    <Label
                        id="lobbyInstructions"
                        text="Press OK to start watch party"
                        translation="[0, 45]"
                        width="700"
                        height="30"
                        horizAlign="center"
                        font="font:SmallSystemFont"
                        color="#8B92A8" />
                </Group>
            </Group>
        </Group>
    </children>
</component>
